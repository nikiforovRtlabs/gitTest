<?xml version='1.0' encoding='UTF-8'?>
<fs:field-set xmlns:ctrl="http://n2oapp.net/framework/config/schema/n2o-control-1.0"
              xmlns:fs="http://n2oapp.net/framework/config/schema/fieldset-2.0"
              css-class="holdings">
    <!-- 0 -->
    <fs:row css-class="holdingRow holdingRowFirst">

        <ctrl:classifier id="holdings.0.holding" label="Препарат" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
            <ctrl:validations>
                <ctrl:validation ref-id="checkHolding0"/>
            </ctrl:validations>
        </ctrl:classifier>

        <ctrl:hidden id="condition0">
            <ctrl:set-value on="holdings.0.holding" if="typeof holdings[0].holding != 'undefined' &amp;&amp; holdings[0].holding != null &amp;&amp; typeof holdings[0].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.0.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition0">condition0 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition0">condition0 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat" side="client"/>
            </ctrl:validations>
           </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.0.count">-->
            <!--<ctrl:set-value-expression on="holdings.0.holding.id,holdings.0.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[0].count != 'undefined' && holdings[0].count != null)-->
                        <!--typeof holdings[0].count == 'string' ? holdings[0].count.replace(',', '.') : holdings[0].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.0.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition0">condition0 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition0">condition0 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat" side="client"/>
            </ctrl:validations>
         </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.0.dose">-->
            <!--<ctrl:set-value-expression on="holdings.0.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[0].dose != 'undefined' && holdings[0].dose != null)-->
                            <!--typeof holdings[0].dose == 'string' ? holdings[0].dose.replace(',', '.') : holdings[0].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.0.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.0.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[0].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.0.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[0].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

    <!--  1 -->
    <fs:row css-class="holdingRow n2o-hidden">

        <ctrl:classifier id="holdings.1.holding" label="Препарат 2" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
        </ctrl:classifier>

        <ctrl:hidden id="condition1">
            <ctrl:set-value on="holdings.1.holding" if="typeof holdings[1].holding != 'undefined' &amp;&amp; holdings[1].holding != null &amp;&amp; typeof holdings[1].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.1.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition1">condition1 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition1">condition1 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat2" side="client"/>
            </ctrl:validations>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.1.count">-->
            <!--<ctrl:set-value-expression on="holdings.1.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[1].count != 'undefined' && holdings[1].count != null)-->
                        <!--typeof holdings[1].count == 'string' ? holdings[1].count.replace(',', '.') : holdings[1].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.1.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat2" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition1">condition1 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition1">condition1 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.1.dose">-->
            <!--<ctrl:set-value-expression on="holdings.1.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[1].dose != 'undefined' && holdings[1].dose != null)-->
                            <!--typeof holdings[1].dose == 'string' ? holdings[1].dose.replace(',', '.') : holdings[1].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.1.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.1.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[1].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.1.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[1].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

    <!-- 2 -->
    <fs:row css-class="holdingRow n2o-hidden">

        <ctrl:classifier id="holdings.2.holding" label="Препарат 3" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
        </ctrl:classifier>

        <ctrl:hidden id="condition2">
            <ctrl:set-value on="holdings.2.holding" if="typeof holdings[2].holding != 'undefined' &amp;&amp; holdings[2].holding != null &amp;&amp; typeof holdings[2].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.2.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition2">condition2 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition2">condition2 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat3" side="client"/>
            </ctrl:validations>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.2.count">-->
            <!--<ctrl:set-value-expression on="holdings.2.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[2].count != 'undefined' && holdings[2].count != null)-->
                        <!--typeof holdings[2].count == 'string' ? holdings[2].count.replace(',', '.') : holdings[2].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.2.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat3" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition2">condition2 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition2">condition2 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.2.dose">-->
            <!--<ctrl:set-value-expression on="holdings.2.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[2].dose != 'undefined' && holdings[2].dose != null)-->
                            <!--typeof holdings[2].dose == 'string' ? holdings[2].dose.replace(',', '.') : holdings[2].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.2.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.2.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[2].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.2.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[2].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

    <!-- 3 -->
    <fs:row css-class="holdingRow n2o-hidden">

        <ctrl:classifier id="holdings.3.holding" label="Препарат 4" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
        </ctrl:classifier>

        <ctrl:hidden id="condition3">
            <ctrl:set-value on="holdings.3.holding" if="typeof holdings[3].holding != 'undefined' &amp;&amp; holdings[3].holding != null &amp;&amp; typeof holdings[3].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.3.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition3">condition3 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition3">condition3 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat4" side="client"/>
            </ctrl:validations>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.3.count">-->
            <!--<ctrl:set-value-expression on="holdings.3.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[3].count != 'undefined' && holdings[3].count != null)-->
                        <!--typeof holdings[3].count == 'string' ? holdings[3].count.replace(',', '.') : holdings[3].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.3.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat4" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition3">condition3 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition3">condition3 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.3.dose">-->
            <!--<ctrl:set-value-expression on="holdings.3.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[3].dose != 'undefined' && holdings[3].dose != null)-->
                            <!--typeof holdings[3].dose == 'string' ? holdings[3].dose.replace(',', '.') : holdings[3].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.3.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.3.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[3].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.3.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[3].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

    <!-- 4 -->
    <fs:row css-class="holdingRow n2o-hidden">

        <ctrl:classifier id="holdings.4.holding" label="Препарат 5" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
        </ctrl:classifier>

        <ctrl:hidden id="condition4">
            <ctrl:set-value on="holdings.4.holding" if="typeof holdings[4].holding != 'undefined' &amp;&amp; holdings[4].holding != null &amp;&amp; typeof holdings[4].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.4.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition4">condition4 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition4">condition4 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat5" side="client"/>
            </ctrl:validations>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.4.count">-->
            <!--<ctrl:set-value-expression on="holdings.4.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[4].count != 'undefined' && holdings[4].count != null)-->
                        <!--typeof holdings[4].count == 'string' ? holdings[4].count.replace(',', '.') : holdings[4].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.4.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat5" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition4">condition4 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition4">condition4 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.4.dose">-->
            <!--<ctrl:set-value-expression on="holdings.4.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[4].dose != 'undefined' && holdings[4].dose != null)-->
                            <!--typeof holdings[4].dose == 'string' ? holdings[4].dose.replace(',', '.') : holdings[4].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.4.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.4.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[4].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.4.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[4].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

    <!-- 5 -->
    <fs:row css-class="holdingRow n2o-hidden">

        <ctrl:classifier id="holdings.5.holding" label="Препарат 6" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
        </ctrl:classifier>

        <ctrl:hidden id="condition5">
            <ctrl:set-value on="holdings.5.holding" if="typeof holdings[5].holding != 'undefined' &amp;&amp; holdings[5].holding != null &amp;&amp; typeof holdings[5].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.5.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition5">condition5 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition5">condition5 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat6" side="client"/>
            </ctrl:validations>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.5.count">-->
            <!--<ctrl:set-value-expression on="holdings.5.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[5].count != 'undefined' && holdings[5].count != null)-->
                        <!--typeof holdings[5].count == 'string' ? holdings[5].count.replace(',', '.') : holdings[5].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.5.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat6" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition5">condition5 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition5">condition5 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.5.dose">-->
            <!--<ctrl:set-value-expression on="holdings.5.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[5].dose != 'undefined' && holdings[5].dose != null)-->
                            <!--typeof holdings[5].dose == 'string' ? holdings[5].dose.replace(',', '.') : holdings[5].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.5.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.5.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[5].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.5.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[5].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

    <!-- 6 -->
    <fs:row css-class="holdingRow n2o-hidden">

        <ctrl:classifier id="holdings.6.holding" label="Препарат 7" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
        </ctrl:classifier>

        <ctrl:hidden id="condition6">
            <ctrl:set-value on="holdings.6.holding" if="typeof holdings[6].holding != 'undefined' &amp;&amp; holdings[6].holding != null &amp;&amp; typeof holdings[6].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.6.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition6">condition6 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition6">condition6 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat7" side="client"/>
            </ctrl:validations>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.6.count">-->
            <!--<ctrl:set-value-expression on="holdings.6.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[6].count != 'undefined' && holdings[6].count != null)-->
                        <!--typeof holdings[6].count == 'string' ? holdings[6].count.replace(',', '.') : holdings[6].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.6.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat7" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition6">condition6 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition6">condition6 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.6.dose">-->
            <!--<ctrl:set-value-expression on="holdings.6.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[6].dose != 'undefined' && holdings[6].dose != null)-->
                            <!--typeof holdings[6].dose == 'string' ? holdings[6].dose.replace(',', '.') : holdings[6].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.6.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.6.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[6].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.6.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[6].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

    <!-- 7 -->
    <fs:row css-class="holdingRow n2o-hidden">

        <ctrl:classifier id="holdings.7.holding" label="Препарат 8" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
        </ctrl:classifier>

        <ctrl:hidden id="condition7">
            <ctrl:set-value on="holdings.7.holding" if="typeof holdings[7].holding != 'undefined' &amp;&amp; holdings[7].holding != null &amp;&amp; typeof holdings[7].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.7.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition7">condition7 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition7">condition7 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat8" side="client"/>
            </ctrl:validations>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.7.count">-->
            <!--<ctrl:set-value-expression on="holdings.7.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[7].count != 'undefined' && holdings[7].count != null)-->
                        <!--typeof holdings[7].count == 'string' ? holdings[7].count.replace(',', '.') : holdings[7].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.7.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat8" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition7">condition7 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition7">condition7 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.7.dose">-->
            <!--<ctrl:set-value-expression on="holdings.7.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[7].dose != 'undefined' && holdings[7].dose != null)-->
                            <!--typeof holdings[7].dose == 'string' ? holdings[7].dose.replace(',', '.') : holdings[7].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.7.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.7.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[7].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.7.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[7].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

    <!-- 8 -->
    <fs:row css-class="holdingRow n2o-hidden">

        <ctrl:classifier id="holdings.8.holding" label="Препарат 9" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
        </ctrl:classifier>

        <ctrl:hidden id="condition8">
            <ctrl:set-value on="holdings.8.holding" if="typeof holdings[8].holding != 'undefined' &amp;&amp; holdings[8].holding != null &amp;&amp; typeof holdings[8].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.8.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition8">condition8 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition8">condition8 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat9" side="client"/>
            </ctrl:validations>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.8.count">-->
            <!--<ctrl:set-value-expression on="holdings.8.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[8].count != 'undefined' && holdings[8].count != null)-->
                        <!--typeof holdings[8].count == 'string' ? holdings[8].count.replace(',', '.') : holdings[8].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.8.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat9" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition8">condition8 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition8">condition8 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.8.dose">-->
            <!--<ctrl:set-value-expression on="holdings.8.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[8].dose != 'undefined' && holdings[8].dose != null)-->
                            <!--typeof holdings[8].dose == 'string' ? holdings[8].dose.replace(',', '.') : holdings[8].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.8.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.8.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[8].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.8.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[8].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

    <!-- 9 -->
    <fs:row css-class="holdingRow n2o-hidden">

        <ctrl:classifier id="holdings.9.holding" label="Препарат 10" css-class="holding-field">
            <ctrl:show-modal page-id="hosp_holding" width="90%" result-container-id="main"
                             value-field-id="holding_id" label-field-id="holding_full_name">
                <ctrl:pre-filters>
                    <ctrl:pre-filter field-id="department_id" value="#{dep.id?}"/>
                    <ctrl:pre-filter field-id="org_id" value="#{org.id?}"/>
                    <ctrl:pre-filter field-id="financialTypeId" ref="case.financialTypeId"/>
                    <ctrl:pre-filter field-id="financialTypeName" ref="case.financialTypeName"/>
                </ctrl:pre-filters>
            </ctrl:show-modal>
        </ctrl:classifier>

        <ctrl:hidden id="condition9">
            <ctrl:set-value on="holdings.9.holding" if="typeof holdings[9].holding != 'undefined' &amp;&amp; holdings[9].holding != null &amp;&amp; typeof holdings[9].holding.id == 'number'"
                            then="true" else="false"/>
        </ctrl:hidden>

        <ctrl:input-text id="holdings.9.count" label="Количество" css-class="count-field">
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition9">condition9 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition9">condition9 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:validations>
                <ctrl:validation ref-id="checkCountFormat10" side="client"/>
            </ctrl:validations>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.9.count">-->
            <!--<ctrl:set-value-expression on="holdings.9.count" silent-mode="true">-->
                <!--<![CDATA[-->
                   <!--if(typeof holdings[9].count != 'undefined' && holdings[9].count != null)-->
                        <!--typeof holdings[9].count == 'string' ? holdings[9].count.replace(',', '.') : holdings[9].count;-->
                <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:input-text id="holdings.9.dose" label="Доза" css-class="dose-field">
            <ctrl:validations>
                <ctrl:validation ref-id="checkDoseFormat10" side="client"/>
            </ctrl:validations>
            <ctrl:dependencies>
                <ctrl:enabling-condition on="condition9">condition9 == true</ctrl:enabling-condition>
                <ctrl:required-condition on="condition9">condition9 == true</ctrl:required-condition>
            </ctrl:dependencies>
            <ctrl:actions>
                <ctrl:link label="+">
                    <ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="addHolding"/>
                </ctrl:link>
                <ctrl:link label="-">
                    <!--<ctrl:on-click src="hospital/n2o/custom/prescription/form/prescriptionForm_holdings.js" function-name="removeHolding"/>-->
                </ctrl:link>
            </ctrl:actions>
        </ctrl:input-text>
        <!--<ctrl:hidden id="holdings.9.dose">-->
            <!--<ctrl:set-value-expression on="holdings.9.dose" silent-mode="true">-->
                <!--<![CDATA[-->
                       <!--if(typeof holdings[9].dose != 'undefined' && holdings[9].dose != null)-->
                            <!--typeof holdings[9].dose == 'string' ? holdings[9].dose.replace(',', '.') : holdings[9].dose;-->
                    <!--]]>-->
            <!--</ctrl:set-value-expression>-->
        <!--</ctrl:hidden>-->

        <ctrl:checkbox id="holdings.9.is_patient_medicament" label="Препарат пациента" css-class="patient-checkbox"/>
        <ctrl:output-text id="holdings.9.holding.mnei_name" label="Осн.ед.изм. -" css-class="mnei-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[9].holding.mnei_name;</ctrl:set-value-expression>
        </ctrl:output-text>
        <ctrl:output-text id="holdings.9.holding.dose_with_measure" label="Дозировка -" css-class="dosage-output">
            <ctrl:set-value-expression on="holdings" silent-mode="true">holdings[9].holding.dose_with_measure;</ctrl:set-value-expression>
        </ctrl:output-text>
    </fs:row>

</fs:field-set>
