<?xml version='1.0' encoding='UTF-8'?>
<page xmlns="http://n2oapp.net/framework/config/schema/page-1.0"
      xmlns:ctrl="http://n2oapp.net/framework/config/schema/n2o-control-1.0"
      xmlns:wgt="http://n2oapp.net/framework/config/schema/n2o-widget-2.0"
      xmlns:fs="http://n2oapp.net/framework/config/schema/fieldset-2.0"
      xmlns:rc="http://atria.cz/app/config/schema/rmis-control-1.0">
    <!--<id>birth_certificate</id>-->
    <name>Свидетельство о рождении</name>
    <object-id>birth_certificate</object-id>
    <layout>n2o/layout/top-bottom</layout>
    <modal-width>985px</modal-width>
    <regions >
        <region place="top" type="list">
            <container id="birth" place="top" opened="true">
                <wgt:form src="ext/css/birth_form.page" customize="css" css-class="birth-form n2o-form">
                    <wgt:name>Свидетельство о рождении</wgt:name>
                    <wgt:query-id>birth_certificate</wgt:query-id>
                    <wgt:default-values-query-id>birth_certificate_def</wgt:default-values-query-id>

                    <!--<wgt:edit after-submit="edit" refresh-after-submit="true" create-more="false" after-cancel="CloseModal">-->
                        <!--<wgt:invoke-action action-id="save"/>-->
                    <!--</wgt:edit>-->
                    <fs:field-set field-label-location="left" header="none" css-class="birth-form-banner">
                        <fs:row>
                            <ctrl:masked-input id="code" label="СЕРИЯ" mask="?99999" required="true"
                                             control-style="width:50px;margin-left:25px;" label-style="width:55px;font-weight: bold;margin-left: 150px;"
                                    copied="false">
                                <ctrl:properties>
                                    <ctrl:property key="floppy" value="true"/>
                                </ctrl:properties>
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition on="id">
                                        (typeof id == 'undefined')||(id == null)
                                    </ctrl:enabling-condition>
                                </ctrl:dependencies>
                            </ctrl:masked-input>
                            <ctrl:masked-input id="number" label="№" mask="?9999999999999999999999999" required="true"
                                             control-style="width:195px;margin-left:25px;" label-style="width:25px;font-weight: bold;"
                                    copied="false">
                                <ctrl:validations>
                                    <ctrl:validation ref-id="certif_unique" side="client,server"/>
                                </ctrl:validations>
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition on="id">
                                        (typeof id == 'undefined')||(id == null)
                                    </ctrl:enabling-condition>
                                </ctrl:dependencies>
                            </ctrl:masked-input>
                        </fs:row>
                        <fs:row>
                            <ctrl:date-time id="issue_date" label="Дата выдачи" control-style="width:125px;" label-style="width:85px;margin-left:55px;"
                                    default-value="today()">
                                <ctrl:dependencies>
                                    <ctrl:required-condition>
                                        ((typeof is_faulty == 'undefined')||(is_faulty == null)||(is_faulty == false))
                                    </ctrl:required-condition>
                                </ctrl:dependencies>
                            </ctrl:date-time>
                            <ctrl:date-time id="birth_date" label="1. Ребенок родился:" format="DD.MM.YYYY HH:mm" control-style="width:155px;" label-style="width:125px;margin-left:10px;">
                                <ctrl:dependencies>
                                    <ctrl:required-condition>
                                        ((typeof is_faulty == 'undefined')||(is_faulty == null)||(is_faulty == false))
                                    </ctrl:required-condition>
                                </ctrl:dependencies>
                            </ctrl:date-time>
                        </fs:row>
                    </fs:field-set>
                    <fs:field-set header="none" field-label-location="left" css-class="birth-form-notes">
                        <ctrl:checkbox id="is_duplicate" label="ДУБЛИКАТ"
                                       control-style="width:100px;color:blue;margin-bottom:-12px;" label-style="width:0px;"
                                       readonly="true" css-class="birth-check-box"/>
                        <ctrl:checkbox id="is_mamwords" label="со слов матери"
                                       control-style="width:100px;color:green;margin-bottom:-12px;" label-style="width:0px;"
                                       css-class="birth-check-box"/>
                        <ctrl:checkbox id="is_faulty" label="испорчено" copied="false"
                                       control-style="width:100px;;color:crimson;margin-bottom:-5px;" label-style="width:0px;"
                                       css-class="birth-check-box"/>
                    </fs:field-set>
                    <!--<fs:field-set header="none" css-class="birth-form-DopInfo" style="display:none;"/>-->
                    <fs:field-set header="line" label="МАТЬ" css-class="birth-form-mather" field-label-location="left">
                        <fs:row>
                            <ctrl:classifier id="indiv" label="2. Мать" control-style="width:329px;" label-style="width:46px;"
                                             autoselect-alone="true" search-as-you-type="true">
                                <ctrl:query query-id="patientsSearch" value-field-id="id" label-field-id="displayName">
                                    <ctrl:pre-filters>
                                        <ctrl:pre-filter field-id="genderId" value="2"/>
                                    </ctrl:pre-filters>
                                </ctrl:query>
                                <ctrl:show-modal page-id="patientsList" result-container-id="pats" width="42%"/>
                                <ctrl:actions>
                                    <ctrl:button icon="icon-plus" type="icon" label="Создать">
                                        <ctrl:a href="/pats/patients/new?backUrl=%2Fpats%2Fresource%2F0%2Fhtml%2Fself-close.html" target="newWindow"/>
                                    </ctrl:button>
                                    <ctrl:button icon="icon-pencil" type="icon" label="Редактировать">
                                        <ctrl:a href="/pats/patients/:indiv.id:/edit?backUrl=%2Fpats%2Fresource%2F0%2Fhtml%2Fself-close.html" target="newWindow"/>
                                        <ctrl:dependencies>
                                            <ctrl:enabling-condition>indiv.id != null</ctrl:enabling-condition>
                                        </ctrl:dependencies>
                                    </ctrl:button>
                                </ctrl:actions>
                                <ctrl:update-model query-id="mamInfo_updModel" master-field-id="indiv.id" detail-field-id="ind.id" target="form"/>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="fio" label="Фамилия, имя, отчество" control-style="width:305px;" label-style="width:150px;">
                                <!--<ctrl:set-value-expression on="indiv">-->
                                    <!--if ((typeof indiv != 'undefined')&amp;&amp;(indiv != null)&amp;&amp;(indiv.id != null)) (indiv.fullName); else throw '!'-->
                                <!--</ctrl:set-value-expression>-->
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition>
                                        (typeof indiv == 'undefined')||(indiv == null)||(indiv.id == null)
                                    </ctrl:enabling-condition>
                                </ctrl:dependencies>
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <ctrl:date-time id="mathers_bdt" label="3. Дата рождения:" format="DD.MM.YYYY" control-style="width:120px;" label-style="width:111px;">
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition>
                                        (typeof indiv == 'undefined')||(indiv == null)||(indiv.id == null)
                                    </ctrl:enabling-condition>
                                </ctrl:dependencies>
                            </ctrl:date-time>
                        </fs:row>
                        <fs:row>
                            <!--todo RMISNNO-331 будет default-value-->
                            <ctrl:hidden id="maddr.id" default-value="#{addr_parent}"/>
                            <rc:address id="maddr" label="4. Место постоянного жительства (регистрации)" control-style="width:298px;" label-style="width:157px;">
                                <rc:set-value-expression on="maddress.id">
                                    if ((typeof maddress.id != 'undefined')&amp;&amp;(maddress.id != null)) maddress; else throw '!';
                                </rc:set-value-expression>
                            </rc:address>
                        </fs:row>
                        <fs:row>
                            <ctrl:classifier id="ad" autoselect-alone="true" visible="false">
                                <ctrl:query query-id="addr_hidden" value-field-id="id" label-field-id="name"/>
                                <ctrl:set-value-expression on="maddr">maddr</ctrl:set-value-expression>
                                <ctrl:update-model query-id="mamaddr_updModel" master-field-id="ad.id" detail-field-id="mad.id" target="form"/>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="region" label="Республика, край, область" control-style="width:370px;" label-style="width:85px;">
                                <!--<ctrl:set-value-expression on="is_faulty" on-load="false" on-non-empty="true" on-invisible="true">-->
                                    <!--if  ((typeof is_faulty == 'undefined')||(is_faulty == null)||(is_faulty == false)) throw '!'; else null;-->
                                <!--</ctrl:set-value-expression>-->
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="district" label="Район" control-style="width:415px;" label-style="width:40px;">
                                <!--<ctrl:set-value-expression on="is_faulty" on-load="false" on-non-empty="true" on-invisible="true">-->
                                    <!--if  ((typeof is_faulty == 'undefined')||(is_faulty == null)||(is_faulty == false)) throw '!'; else null;-->
                                <!--</ctrl:set-value-expression>-->
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="city" label="Город (село)" control-style="width:375px;" label-style="width:80px;">
                                <!--<ctrl:set-value-expression on="is_faulty" on-load="false" on-non-empty="true" on-invisible="true">-->
                                    <!--if  ((typeof is_faulty == 'undefined')||(is_faulty == null)||(is_faulty == false)) throw '!'; else null;-->
                                <!--</ctrl:set-value-expression>-->
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="street" label="Улица" control-style="width:250px;" label-style="width:40px;"/>
                            <ctrl:input-text id="home" label="дом" control-style="width:45px;margin-left: 5px;" label-style="width:25px;"/>
                            <ctrl:input-text id="apartment" label="кв." control-style="width:45px;margin-left: 5px;" label-style="width:20px;"/>
                        </fs:row>
                        <fs:row>
                            <ctrl:classifier id="mcitiship" label="5. Местность:" control-style="width:371px;" label-style="width:84px;"
                                    autoselect-alone="true">
                                <ctrl:query query-id="citizenship" value-field-id="id" label-field-id="name"/>
                                <!--<ctrl:set-value-expression on="is_faulty" on-load="false" on-non-empty="true" on-invisible="true">-->
                                    <!--if  ((typeof is_faulty == 'undefined')||(is_faulty == null)||(is_faulty == false)) throw '!'; else null;-->
                                <!--</ctrl:set-value-expression>-->
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:classifier id="marital_status" label="6. Семейное положение:" search-as-you-type="true"
                                             control-style="width:380px;" label-style="width:75px;">
                                <ctrl:query query-id="cerf_maritalStatus" value-field-id="id" label-field-id="name"/>
                                <ctrl:dependencies>
                                    <ctrl:required-condition>
                                        ((typeof is_faulty == 'undefined')||(is_faulty == null)||(is_faulty == false))
                                    </ctrl:required-condition>
                                </ctrl:dependencies>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:classifier id="education" label="7. Образование:" search-as-you-type="true"
                                             control-style="width:357px;" label-style="width:98px;">
                                <ctrl:query query-id="education" value-field-id="id" label-field-id="name"/>
                                <ctrl:dependencies>
                                    <ctrl:required-condition>
                                        ((typeof is_faulty == 'undefined')||(is_faulty == null)||(is_faulty == false))
                                    </ctrl:required-condition>
                                </ctrl:dependencies>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:classifier id="busyness" label="8. Занятость:" search-as-you-type="true"
                                             control-style="width:374px;" label-style="width:81px;">
                                <ctrl:query query-id="busyness" value-field-id="id" label-field-id="name"/>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:masked-input id="presence" mask="?99" label="9. Срок первой явки к врачу (фельдшеру, акушерке)"
                                               control-style="width:30px;" label-style="width:319px;margin-right:61px;"/>
                            <ctrl:output-text id="ned" label="недель" control-style="display:none;" label-style="width:45px;margin-left: -10px;"/>
                        </fs:row>
                        <fs:row>
                            <ctrl:masked-input id="general_order" mask="?99" label="10. Которым по счету ребенок был рожден у матери"
                                               control-style="width:30px;" label-style="width:318px;margin-right:107px;"/>
                        </fs:row>
                    </fs:field-set>
                    <fs:field-set header="line" label="РЕБЕНОК" css-class="birth-form-child" field-label-location="left">
                        <fs:row>
                            <ctrl:radio-group id="gender" label="15. Пол" control-style="margin-right: 25px;" label-style="width:46px;margin-right:25px;" inline="true">
                                <ctrl:query query-id="certif_gender" value-field-id="id" label-field-id="name"/>
                                <ctrl:dependencies>
                                    <ctrl:required-condition>
                                        ((typeof is_faulty == 'undefined')||(is_faulty == null)||(is_faulty == false))
                                    </ctrl:required-condition>
                                </ctrl:dependencies>
                            </ctrl:radio-group>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="child_surname" label="11. Фамилия ребенка" control-style="width:311px;" label-style="width:129px;">
                                <ctrl:set-value-expression on="indiv,fio" on-load="false" on-non-empty="true">
                                    if ((typeof indiv != 'undefined')&amp;&amp;(indiv != null)&amp;&amp;(indiv.id != null)) (indiv.surname);
                                        else
                                            if ((typeof fio != 'undefined')&amp;&amp;(fio != null)) (fio.split(' ', 1).toString());
                                                else throw '!'
                                </ctrl:set-value-expression>
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <ctrl:classifier id="birth_place" label="14. Роды произошли:" control-style="width:311px;" label-style="width:129px;">
                                <ctrl:query query-id="birth_place" value-field-id="id" label-field-id="name"/>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:hidden id="org.addr" default-value="#{org.addr}" visible="false"/>
                            <ctrl:hidden id="org.addrname" default-value="#{org.addrname}" visible="false"/>
                            <rc:address id="birth_address" label="12. Место рождения:" control-style="width:380px;" label-style="width:60px;">
                                <rc:set-value-expression on="birth_place,org.addr,org.addrname" on-load="false" on-non-empty="true">
                                    if ((typeof birth_place == 'undefined')||(birth_place == null)||(birth_place.id == null)) throw '!';
                                        else
                                            if (birth_place.id == 1)
                                                {
                                                 var o = new Object();
                                                 o.id = org.addr;
                                                 o.displayName = org.addrname;
                                                 o;
                                                }
                                                else
                                                    if (birth_place.id == 2) maddr
                                                        <!--else-->
                                                            <!--if (birth_place.id == 3) throw '!'; -->
                                                        else null;
                                </rc:set-value-expression>
                                <rc:dependencies>
                                    <rc:enabling-condition>
                                        birth_place.id != 4
                                    </rc:enabling-condition>
                                </rc:dependencies>
                            </rc:address>
                        </fs:row>
                        <fs:row>
                            <ctrl:classifier id="birthad" autoselect-alone="true" visible="false">
                                <ctrl:query query-id="addr_hidden" value-field-id="id" label-field-id="displayName"/>
                                <ctrl:set-value-expression on="birth_place,birth_address" on-non-empty="true">birth_address</ctrl:set-value-expression>
                                <ctrl:update-model query-id="birthaddr_updModel" master-field-id="birthad.id" detail-field-id="bad.id" target="form"/>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="birth_region" label="Республика, край, область" control-style="width:356px;" label-style="width:84px;">
                                <ctrl:set-value-expression on="birth_place,birth_address,region">
                                    if ((birth_place.ecode == '2')&amp;&amp;((typeof birth_address == 'undefined')||(birth_address == null)||(birth_address.id == null)))
                                        region; else null;
                                </ctrl:set-value-expression>
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition>
                                        birth_place.id != 4
                                    </ctrl:enabling-condition>
                                </ctrl:dependencies>
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="birth_district" label="Район" control-style="width:400px;" label-style="width:40px;">
                                <ctrl:set-value-expression on="birth_place,birth_address,district">
                                    if ((birth_place.ecode == '2')&amp;&amp;((typeof birth_address == 'undefined')||(birth_address == null)||(birth_address.id == null)))
                                        district; else null;
                                </ctrl:set-value-expression>
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition>
                                        birth_place.id != 4
                                    </ctrl:enabling-condition>
                                </ctrl:dependencies>
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="birth_city" label="Город (село)" control-style="width:363px;" label-style="width:77px;">
                                <ctrl:set-value-expression on="birth_place,birth_address,city">
                                    if ((birth_place.ecode == '2')&amp;&amp;((typeof birth_address == 'undefined')||(birth_address == null)||(birth_address.id == null)))
                                        city; else null;
                                </ctrl:set-value-expression>
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition>
                                        birth_place.id != 4
                                    </ctrl:enabling-condition>
                                </ctrl:dependencies>
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <ctrl:classifier id="bcitiship" label="13. Местность:" control-style="width:349px;" label-style="width:91px;">
                                <ctrl:query query-id="citizenship" value-field-id="id" label-field-id="name"/>
                                <ctrl:set-value-expression on="birth_place,birth_address,mcitiship">
                                    if ((birth_place.ecode == '2')&amp;&amp;((typeof birth_address == 'undefined')||(birth_address == null)||(birth_address.id == null)))
                                        mcitiship; else null;
                                </ctrl:set-value-expression>
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition>
                                        birth_place.id != 4
                                    </ctrl:enabling-condition>
                                </ctrl:dependencies>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:masked-input id="weight" label="16. Масса тела ребенка при рождении" mask="?9999"
                                               control-style="width:42px;" label-style="width:233px;margin-right:155px;"/>
                            <ctrl:output-text id="gr" label="г" control-style="display:none;" label-style="width:5px;margin-left:-5px;"/>
                        </fs:row>
                        <fs:row>
                            <ctrl:masked-input id="height" label="17. Длина тела ребенка при рождении" mask="?99"
                                               control-style="width:29px;" label-style="width:232px;;margin-right: 159px;"/>
                            <ctrl:output-text id="sm" label="см" control-style="display:none;" label-style="width:15px;margin-left:-5px;"/>
                        </fs:row>
                        <fs:row>
                            <ctrl:output-text id="child" label="18. Ребенок родился:" control-style="display:none;"
                                              label-style="width:131px;"/>
                        </fs:row>
                        <fs:row>
                            <ctrl:output-text id="is_singl" label="при одноплодных родах"
                                              control-style="display:none;" label-style="width:150px;margin-left:50px;margin-right:215px;"/>
                            <ctrl:checkbox id="is_singleton" label="" control-style="width:15px;" label-style="display:none;"/>
                        </fs:row>
                        <fs:row>
                            <ctrl:masked-input id="birth_order" label="при многоплодных родах: которым по счету" mask="?9"
                                             control-style="width:25px;" label-style="width:270px;margin-left:50px;margin-right:95px;">
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition>
                                        ((typeof is_singleton == 'undefined')||(is_singleton == null)||(is_singleton != true))
                                    </ctrl:enabling-condition>
                                    <ctrl:required-condition>
                                        (is_faulty != true)&amp;&amp;(is_singleton != true)
                                    </ctrl:required-condition>
                                </ctrl:dependencies>
                            </ctrl:masked-input>
                        </fs:row>
                        <fs:row>
                            <ctrl:masked-input id="sum" label="число родившихся" mask="?9"
                                               control-style="width:25px;" label-style="width:115px;margin-left:50px;margin-right:250px;">
                                <ctrl:dependencies>
                                    <ctrl:enabling-condition>
                                        ((typeof is_singleton == 'undefined')||(is_singleton == null)||(is_singleton != true))
                                    </ctrl:enabling-condition>
                                    <ctrl:required-condition>
                                        (is_faulty != true)&amp;&amp;(is_singleton != true)
                                        <!--(is_faulty != true)&amp;&amp;((typeof is_singleton == 'undefined')||(is_singleton == null)||(is_singleton != true))-->
                                    </ctrl:required-condition>
                                </ctrl:dependencies>
                            </ctrl:masked-input>
                        </fs:row>
                    </fs:field-set>

                    <fs:field-set header="line" css-class="birth-form-DopInfo">
                        <ctrl:radio-group id="took_birth" label="19. Лицо принимавшее роды:" inline="true"
                                          control-style="width:425px" label-style="width:181px;">
                            <ctrl:query query-id="took_birth" value-field-id="id" label-field-id="name"/>
                        </ctrl:radio-group>
                    </fs:field-set>
                    <fs:field-set header="none">
                        <fs:row>
                            <ctrl:classifier id="writer" label="20. Заполнил мед свидетельство"
                                             control-style="width:557px;margin-top:7px;" label-style="width:204px;margin-rigth:15px;margin-top:7px;">
                                <ctrl:query query-id="certif_empl_pos" value-field-id="id" label-field-id="namePos">
                                    <ctrl:pre-filters>
                                        <ctrl:pre-filter field-id="org.id" value="#{org.id?}"/>
                                        <ctrl:pre-filter field-id="end_date" ref="issue_date"/>
                                    </ctrl:pre-filters>
                                </ctrl:query>
                                <ctrl:properties>
                                    <ctrl:property key="floppy" value="true"/>
                                </ctrl:properties>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="writer_fio" label="" control-style="width:437px;" label-style="display:none;">
                                <ctrl:set-value-expression on="writer.id" on-load="true" on-non-empty="true">
                                    if ((typeof writer != 'undefined')&amp;&amp;(writer != null)&amp;&amp;(writer.id != null)) (writer.full_name); else null;
                                </ctrl:set-value-expression>
                                <ctrl:description>(фамилия, имя, отчество)</ctrl:description>
                            </ctrl:input-text>
                            <ctrl:input-text id="writer_position" label="" control-style="width:425px;margin-left:5px;"  label-style="display:none;">
                                <ctrl:set-value-expression on="writer.id" on-load="true" on-non-empty="true">
                                    if ((typeof writer != 'undefined')&amp;&amp;(writer != null)&amp;&amp;(writer.id != null)) (writer.position_name); else null;
                                </ctrl:set-value-expression>
                                <ctrl:description>(должность врача (фельдшера, акушерки), заполнившего медицинское свидельство)</ctrl:description>
                            </ctrl:input-text>
                        </fs:row>

                        <fs:row>
                            <ctrl:classifier id="head_physician" label="Руководитель медицинской организации"
                                             control-style="width:515px;margin-top:7px;" label-style="width:247px;margin-rigth:15px;margin-top:7px;">
                                <ctrl:query query-id="certif_empl_pos" value-field-id="id" label-field-id="namePos">
                                    <ctrl:pre-filters>
                                        <ctrl:pre-filter field-id="org.id" value="#{org.id?}"/>
                                        <ctrl:pre-filter field-id="end_date" ref="issue_date"/>
                                        <ctrl:pre-filter field-id="category.id" ref="head_category_id"/>
                                    </ctrl:pre-filters>
                                </ctrl:query>
                                <ctrl:properties>
                                    <ctrl:property key="floppy" value="true"/>
                                </ctrl:properties>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="head_physician_fio" label="" control-style="width:425px;" label-style="display:none;">
                                <ctrl:set-value-expression on="head_physician.id" on-load="true" on-non-empty="true">
                                    if ((typeof head_physician != 'undefined')&amp;&amp;(head_physician != null)&amp;&amp;(head_physician.id != null)) (head_physician.full_name); else null;
                                </ctrl:set-value-expression>
                                <ctrl:description>(фамилия, имя, отчество)</ctrl:description>
                            </ctrl:input-text>
                            <ctrl:input-text id="head_physician_position" label="" control-style="width:437px;margin-left:5px;"  label-style="display:none;">
                                <ctrl:set-value-expression on="head_physician.id" on-load="true" on-non-empty="true">
                                    if ((typeof head_physician != 'undefined')&amp;&amp;(head_physician != null)&amp;&amp;(head_physician.id != null)) (head_physician.position_name); else null;
                                </ctrl:set-value-expression>
                                <ctrl:description>(должность подписавшего медицинское свидельство)</ctrl:description>
                            </ctrl:input-text>
                        </fs:row>

                    </fs:field-set>

                    <fs:field-set header="line" label="Пункты 8 и 9 Корешка Свидетельства:">
                        <fs:row>
                            <ctrl:classifier id="receptionist" label="8. Выдал мед свидетельство"
                                             control-style="width:583px;margin-top:7px;" label-style="width:179px;margin-rigth:15px;margin-top:7px;">
                                <ctrl:query query-id="certif_empl_pos" value-field-id="id" label-field-id="namePos">
                                    <ctrl:pre-filters>
                                        <ctrl:pre-filter field-id="org.id" value="#{org.id?}"/>
                                        <ctrl:pre-filter field-id="end_date" ref="issue_date"/>
                                    </ctrl:pre-filters>
                                </ctrl:query>
                                <ctrl:properties>
                                    <ctrl:property key="floppy" value="true"/>
                                </ctrl:properties>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="receptionist_fio" label="" control-style="width:425px;" label-style="display:none;">
                                <ctrl:set-value-expression on="receptionist.id" on-load="true" on-non-empty="true">
                                    if ((typeof receptionist != 'undefined')&amp;&amp;(receptionist != null)&amp;&amp;(receptionist.id != null)) (receptionist.full_name); else null;
                                </ctrl:set-value-expression>
                                <ctrl:description>(фамилия, имя, отчество)</ctrl:description>
                            </ctrl:input-text>
                            <ctrl:input-text id="position" label="" control-style="width:437px;margin-left:5px;"  label-style="display:none;">
                                <ctrl:set-value-expression on="receptionist.id" on-load="true" on-non-empty="true">
                                    if ((typeof receptionist != 'undefined')&amp;&amp;(receptionist != null)&amp;&amp;(receptionist.id != null)) (receptionist.position_name); else null;
                                </ctrl:set-value-expression>
                                <ctrl:description>(должность врача (фельдшера, акушерки), выдавшего медицинское свидельство)</ctrl:description>
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <!--поле для получения родственников из базы-->
                            <ctrl:classifier id="recipient" label="9. Получатель" control-style="width:668px;margin-top:7px;" label-style="width:88px;margin-rigth:15px;margin-top:7px;"
                                             autoselect-alone="true" search-as-you-type="true">
                                <ctrl:query query-id="patientsSearch" value-field-id="id" label-field-id="displayName"/>
                                <ctrl:show-modal page-id="patientsList" result-container-id="pats" width="42%"/>
                                <ctrl:update-model query-id="recepient_updModel" master-field-id="recipient.id" detail-field-id="rec.id" target="form"/>
                            </ctrl:classifier>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="recipient_fio" label="" control-style="width:300px;" label-style="display:none;">
                                <ctrl:set-value-expression on="recipient">
                                    if ((typeof recipient != 'undefined')&amp;&amp;(recipient != null)&amp;&amp;(recipient.id != null)) (recipient.fullName); else throw '!'
                                </ctrl:set-value-expression>
                                <ctrl:description>фамилия, имя, отчество</ctrl:description>
                            </ctrl:input-text>
                            <ctrl:classifier id="rec_rel" label="" control-style="width:300px;margin-left:5px;"  label-style="display:none;">
                                <ctrl:query query-id="certif_relTypeSide" value-field-id="id" label-field-id="name"/>
                                <ctrl:description>отношение к ребенку</ctrl:description>
                            </ctrl:classifier>
                            <ctrl:input-text id="recipient_relation" label="" control-style="width:235px;margin-left:5px;"  label-style="display:none;">
                                <ctrl:set-value-expression on="rec_rel">
                                    if ((typeof rec_rel != 'undefined')&amp;&amp;(rec_rel != null)&amp;&amp;(rec_rel.id != null)) (rec_rel.name); else throw '!'
                                </ctrl:set-value-expression>
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <!--<ctrl:classifier id="doc_type" autoselect-alone="true">-->
                                <!--<ctrl:query query-id="certif_docType" value-field-id="id" label-field-id="name">-->
                                    <!--<ctrl:pre-filters>-->
                                        <!--<ctrl:pre-filter field-id="ids" ref="doc_types"/>-->
                                    <!--</ctrl:pre-filters>-->
                                <!--</ctrl:query>-->
                            <!--</ctrl:classifier>-->
                            <!--<ctrl:classifier id="indiv_doc" autoselect-alone="true">-->
                                <!--<ctrl:query query-id="patDocument" value-field-id="id" label-field-id="displayNumber">-->
                                    <!--<ctrl:pre-filters>-->
                                        <!--<ctrl:pre-filter field-id="is_valid" ref="true"/>-->
                                        <!--<ctrl:pre-filter field-id="active" ref="true"/>-->
                                        <!--<ctrl:pre-filter field-id="docType.id" ref="doc_type.id"/>-->
                                        <!--<ctrl:pre-filter field-id="patient_id" ref="recipient.id"/>-->
                                    <!--</ctrl:pre-filters>-->
                                <!--</ctrl:query>-->
                            <!--</ctrl:classifier>-->
                            <ctrl:input-text id="recipient_doc" label="" control-style="width:865px;margin-top:-7px;"  label-style="display:none;">
                                <ctrl:description>(документ удостоверяющий личность получателя, серия, номер, кем выдан)</ctrl:description>
                            </ctrl:input-text>
                        </fs:row>
                        <fs:row>
                            <ctrl:input-text id="proxy_doc" label="" control-style="width:865px;margin-top:-7px;"  label-style="display:none;">
                                <ctrl:description>(документ удостоверяющий полномочия получателя)</ctrl:description>
                            </ctrl:input-text>
                        </fs:row>
                    </fs:field-set>
                    <fs:field-set>
                        <ctrl:input-text id="org.id" visible="false" default-value="#{org.id?}"/>
                        <ctrl:input-text id="org_name" visible="false" default-value="#{org.name?}"/>
                        <!--<ctrl:input-text id="receptionist.id" visible="false" default-value="#{emplPos.id?}"/>-->
                        <!--<ctrl:input-text id="reseptionist" visible="false" default-value="#{emplPos.name?}"/>-->
                        <!--<ctrl:input-text id="position" visible="false" default-value="#{pos.name}"/>-->
                    </fs:field-set>
                </wgt:form>
            </container>
        </region>
    </regions>
</page>
